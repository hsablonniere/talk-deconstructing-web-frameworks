= le  Web,  ses  Frameworks  et ses  Standards : dÃ©construire pour mieux (re?)construire...
Hubert SablonniÃ¨re
:author-twitter: @hsablonniere
:author-avatar: img/hsablonniere-profil-2017.jpg
:author-company: Clever Cloud
:author-company-logo: img/clever-cloud-logo.svg
:event: DevoxxFR
:date: 17 avril 2019

[slide=poster]
Poster

[slide=blank]
Fondu vers le noir

[.old]
== Prologue...

[.four]#Mettre la musique (Gymnopedie)#
#Voix off, grave, triste#
Perdu dans la jungle du Web moderne, de ses frameworks et ses standards,

image::img/drawings-optimized/thinking.svg[]

notre personnage principal est perdu.
Depuis le dÃ©but de sa carriÃ¨re, au fil des semaines, des mois et des annÃ©es...

image::img/drawings-optimized/thinking-words.svg[]

il voit naitre tous ces nouveaux outils rÃ©volutionnaires et prometteurs,
mais qui demain seront dÃ©laissÃ©s et remplacÃ©s par de nouveaux ... encore plus mieux.
C'est avec tristesse et mÃ©lancholie qu'il repense Ã  tous ces frameworks, librairies, Ã©diteurs de code et autres outils en ligne de commande.

image::img/drawings-optimized/rip.svg[]

#Un peu de respect SVP !#
S'ils n'ont pas dÃ©jÃ  disparus de nos projets,
peut-Ãªtre ont-ils dÃ©jÃ  disparus de nos...

image::img/drawings-optimized/radar.svg[]

...radars de coolitude.
Cette situation l'inquiÃ¨te, le questionne et l'empÃªche de dormir.
Dans le cadre de son travail, il doit faire des choix techniques mais il ne sais plus quoi faire.
C'est Ã  ce moment lÃ  que notre personnage pris la dÃ©cision d'aller voir...

image::img/drawings-optimized/dr-sigma.svg[]

...un thÃ©rapeuthe.
[.four]#Restart la musique (Gymnopedie)#

image::img/drawings-optimized/talking-legos.svg[]

#Voix lassÃ©e et fatiguÃ©e#
ğŸ˜ Bonjour docteur.
#Voix confiante#
ğŸ‘©â€âš•ï¸ Bonjour Monsieur SablonniÃ¨re, alors, qu'est-ce qui vous amÃ¨ne ?
La derniÃ¨re fois que je vous ai vu, c'Ã©tait il y a bien 10 ans...
Vous commenciez votre premier job et vous aviez dÃ©clarÃ© une crise existentielle sur l'usage des "espaces ou des tabulations" et sur la prononciation des "guiffes animÃ©s".
ğŸ˜ Des jifs, vous voulez-dire ?

.2 espaces,   c'est mieux !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-thinks.svg[]
//Personnage H qui pense que les espaces c'est mieux.

ğŸ˜ Non mais Ã§a c'est du passÃ©, j'Ã©tais jeune et dÃ©butant, je ne me posais pas les bonnes questions.
Aujourd'hui, je prends du recul sur le monde du frontend Web et je fais un constat :

.Trop de hype,   on est addict !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-talks.svg[]

ğŸ˜ Les effets de mode et de hype nous rendent beaucoup trop addict Ã  nos outils.
ğŸ‘©â€âš•ï¸ Humm, dites mois en plus, quels problÃ¨mes Ã§a implique ?

image::img/drawings-optimized/projecteur.svg[]

#Voix Ã©nergique#
ğŸ˜ Alors, problÃ¨me numÃ©ro 1...
#Voix blasÃ©e#
ğŸ‘©â€âš•ï¸ Euh... quand on vous pose une question, vous rÃ©pondez toujours avec un PowerPoint ?

.C'est mÃªme pas   PowerPoint en plus...
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-thinks.svg[]

ğŸ˜ Bah c'est vachement pratique en vrai. Bref.

.ProblÃ¨me nÂ°1
[slide=problem]
Trouver la solution   avant de constater le problÃ¨me

ğŸ˜ ProblÃ¨me numÃ©ro 1...
Quand on choisi un framework, une lib frontend et son Ã©cosystÃ¨me,
on en oublie souvent le problÃ¨me qu'on voulait rÃ©soudre Ã  la base
et pourtant on a l'impression d'avoir dÃ©jÃ  trouvÃ© la bonne rÃ©ponse,
la bonne solution Ã  utiliser.
Bon, souvent c'Ã©tait le bon outil et mais parfois la solution est adaptÃ©e Ã  des problÃ¨mes qu'on a pas vraiment.
ğŸ‘©â€âš•ï¸ Mais pourquoi vous faites Ã§a ?

image::img/drawings-optimized/dx-ux.svg[]

ğŸ˜ Parfois le choix se fait parceque la techno est *cool*
et Ã§a nous pousse souvent Ã  faire passer l'expÃ©rience de dÃ©veloppement avant cette des utilisateurs du produit qu'on dÃ©veloppe.

image::img/drawings-optimized/giant.svg[]

ğŸ˜ Parfois parceque la techno est utilisÃ©e, voire crÃ©Ã©e par un gÃ©ant du Web !
// Ã‡a forme un cycle:
// * les gÃ©ants l'utilisent
// * on l'utilise
// * les recruteurs nous attirent avec
// * les dÃ©butants se forment dessus
// * on crÃ©Ã© des confs dÃ©diÃ©es
// * on crÃ©Ã© des meetups

.Continuez, continuez... !
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

ğŸ‘©â€âš•ï¸ Continuez, continuez...

.ProblÃ¨me nÂ°2
[slide=problem]
S'enfermer dans son propre Ã©cosystÃ¨me

ğŸ˜ ProblÃ¨me numÃ©ro 2...
Une fois qu'on a choisi un Ã©cosystÃ¨me, on a tendance Ã  s'enfermer dedans.
// https://en.wikipedia.org/wiki/Escalation_of_commitment
// https://fr.wikipedia.org/wiki/Escalade_d%27engagement
// https://en.wikipedia.org/wiki/Sunk_cost
// https://fr.wikipedia.org/wiki/Co%C3%BBt_irr%C3%A9cup%C3%A9rable

image::img/drawings-optimized/silos.svg[]

ğŸ˜ On ouvre une porte et on reste Ã  l'intÃ©rieur.
On cherche systÃ©matiquement comment faire X ou Y avec cet Ã©cosystÃ¨me alors que X ou Y sont universels.
Un peu comme quand on cherchait Ã  manipuler des dates ou des tableaux avec jQuery.
Du coup on va rÃ©Ã©crire l'Ã©niÃ¨me composant "select" ou "datagrid" dÃ©diÃ© uniquement Ã  cet Ã©cosystÃ¨me.
On va chercher sur stackoverflow en prÃ©fixant avec le petit nom de notre Ã©cosystÃ¨me.
On ne voit plus les dÃ©fauts de nos propres outils
On soutient des fonctionnalitÃ©s sans les comprendre
On ne regarde pas ce qui se fait ailleurs avec un oeil ouvert (silo)
image::img/screenshots/tweet-hooks2.jpg[url=https://twitter.com/devongovett/status/1095518197518745601]

image::img/drawings-optimized/brain.svg[]

ğŸ˜ On va remplir notre cerveau avec...

image::img/drawings-optimized/brain-fwk.svg[]

ğŸ˜ ...des fonctionnalitÃ©s et concepts spÃ©ciques Ã  notre Ã©cosystÃ¨me...
// ğŸ˜ Difficile de changer de cap quand on a investi du temps d'apprentissage.

image::img/drawings-optimized/brain-patterns.svg[]

ğŸ˜ ...au lieu de les remplir avec des standards bien installÃ©s ou des patterns bien connus.

.Comme une   keynote d'Apple ?
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-thinks.svg[]

ğŸ‘©â€âš•ï¸ Continuez, continuez...
// Ah vous entendre, on dirait mon fils devant une confÃ©rence Apple, quand ils sortent l'iPod ou l'iPhone, je comprends qu'il soit Ã©merveillÃ©
// Mais quand Apple dit "on a virÃ© le jack" il dit, "ah mais ces vraiment des gÃ©nies" alors qu'il a pas de casque bluetooth
// Rant sur les exemples de code dÃ©corÃ©s apple

.ProblÃ¨me nÂ°3
[slide=problem]
...

ğŸ˜ ProblÃ¨me numÃ©ro 3...
Finalement celui lÃ , il est assez universel,
On oublie facilement les principes SOLID et la "separation of concerns".

.ProblÃ¨me nÂ°3
[slide=problem]
Ã‰crire du code fortement couplÃ©   qui subit mal des effets du temps

Du coup, on Ã  tendance Ã  produire du code fortement couplÃ©, qui subit mal les effets du temps.

image::img/drawings-optimized/layers.svg[]

ğŸ˜ Au lieu d'avoir des couches bien identifiÃ©es et bien isolÃ©es...

image::img/drawings-optimized/layers-mixed.svg[]

ğŸ˜ ...on Ã©crit des modules qui font plusieurs choses Ã  la fois et qui sont fortement liÃ©es au scope global du projet.
Du coup :
* quand notre propre Ã©cosystÃ¨me Ã©volue,
* quand il disparait
* quand un nouveau standard arrive
Ã§a devient difficile de remplacer unitairement certaines parties.

image::img/drawings-optimized/trash.svg[]

ğŸ˜ On va jeter Ã  la poubelle...

image::img/drawings-optimized/trash-brain.svg[]

ğŸ˜ ...une partie de nos connaissances...

image::img/drawings-optimized/trash-project.svg[]

ğŸ˜ ...et pas mal de code.
Vive les refontes et autres migrations techniques !

.WTF?
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

ğŸ‘©â€âš•ï¸ LÃ  par contre, j'ai rien compris.
ğŸ˜ Bah en fait, c'est comme ma tÃ©lÃ©.

.Comme ma tÃ©lÃ© !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-talks.svg[]

ğŸ˜ La derniÃ¨re fois que je suis venu vous voir il y a 10 ans,
Je commenÃ§ais mon job et je venais de m'acheter une nouvelle tÃ©lÃ© avec l'argent de mon stage.

image::img/drawings-optimized/tv.svg[]

ğŸ˜ Cette tÃ©lÃ©, je l'ai toujours aujourd'hui,
elle marche comme il y a 10 ans.
Elle a tenu la route parque qu'elle fait une chose et elle le fait bien.
Elle ne sait pas ce que je vais brancher dessus, elle impose juste une interface : de l'HDMI.

image::img/drawings-optimized/tv-pc.svg[]

ğŸ˜ Du coup, au dÃ©part, j'ai branchÃ© un gros PC,

image::img/drawings-optimized/tv-raspberry.svg[]

ğŸ˜ puis un plus petit PC.
J'ai branchÃ© plein de trucs dont elle n'a pas besoin de connaitre l'existence ni mÃªme la provenance.

image::img/drawings-optimized/tv-androidtv.svg[]

ğŸ˜ J'ai mÃªme dÃ©couvert par accident qu'en plus de recevoir de l'HDMI,
elle pouvait elle envoyer des signaux (tjs via l'HDMI) aux appareils branchÃ©s.
Bref, aujourd'hui, dans le monde du frontend...

image::img/drawings-optimized/tv-vcr.svg[]

ğŸ˜ Je vois trop de tÃ©lÃ© comme Ã§a !
ğŸ‘©â€âš•ï¸ Ah ouais, c'Ã©tait bien au dÃ©but ces trucs lÃ  car il n'y avait rien Ã  brancher, c'Ã©tait magique mais bon, quand la tÃ©lÃ© ou le magnÃ©toscope Ã©tait pÃ©tÃ©, il fallait tout racheter

// image::img/drawings-optimized/tv-vcr-real.svg[]

.Ah, vous voyez ?
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-talks.svg[]

ğŸ˜ Ah vous voyez pourquoi je suis perdu alors ?

.Je vois, je vois...
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

ğŸ‘©â€âš•ï¸ Je vois, je vois...
Le plus simple dans votre situation...

.ThÃ©rapie de groupe !
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

ğŸ‘©â€âš•ï¸ C'est la thÃ©rapie de groupe avec des professionnels de votre domaine !
Du coup, je vous ai rÃ©uni un petit groupe de gens lÃ .

.J'y vais,   mais j'ai peur !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-thinks.svg[]

ğŸ˜ Euh... mais ils sont beaucoup lÃ  non ?

.Allez, hop !
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

ğŸ‘©â€âš•ï¸ Mais non, allez, hop !

[slide=poster]
Bonjour

Bonjour Ã  *toutes* et tous !
J'm'appelle Hubert SablonniÃ¨re,
J'suis dÃ©veloppeur Web chez #Clever Cloud#,
et aujourd'hui, j'ai envie de vous parler :
* du Web,
* de ses frameworks et autres librairies
* et de ses standards.
On va essayer ensemble de dÃ©construire un peu tout Ã§a
dans l'espoir de pouvoir mieux construire nos web apps.
OK, on utilise tous pleins d'outils qui nous apportent des solutions...

== C'Ã©tait quoi  le *problÃ¨me* ?

...mais c'Ã©tait quoi le problÃ¨me Ã  la base ?
Alors, j'ai essayÃ© de lister des problÃ¨mes auquels j'ai fait face dans mes diffÃ©rentes expÃ©riences
de dÃ©veloppement sur des web apps.

[slide=needs, display=0]
_

J'ai sÃ©parÃ© Ã§a en 2 :
* Les problÃ¨mes que je veux rÃ©soudre pour les utilisatrices et utilisateurs du produit que je dÃ©veloppe
* Les problÃ¨mes que je rencontre moi en tant que dev

[slide=needs, display=1]
_

RapiditÃ© (1er chargement)

[slide=needs, display=2]
_

RapiditÃ© (navigations consÃ©cutives)

[slide=needs, display=3]
_

FluiditÃ© + rÃ©activitÃ©

[slide=needs, display=4]
_

Conso. (batterie, RAM, CPU)

[slide=needs, display=5]
_

AccessibilitÃ©

[slide=needs, display=6]
_

Responsive

[slide=needs, display=7]
_

Gagner du temps

[slide=needs, display=8]
_

Code propre, rÃ©utilisable

[slide=needs, display=9]
_

ModÃ¨le de pensÃ©e simple

[slide=needs, display=10]
_

Isolation des impacts

[slide=needs, display=11]
_

Ne pas dÃ©pendre des outils

[slide=needs, display=12]
_

Collab. avec 1 designer


// j'ai essayÃ© de spÃ©parer en 2 :
// * les problÃ¨mes qu'on a nous quand on Ã©crit du code
// * et les problÃ¨mes qu'on veut rÃ©soudre pour aider nos utilisateurs

//[slide=todo-needs]
//titre besoins utilisateur et besoins dÃ©veloppeur
//+ list des besoins (un par un)

// il faut vraiment que Ã§a soit, en tant que, je veux
listes besoins utilisateurs
// en tant qu'utilisateur, je veux un site
* accessible
* responsive
* 1er chargement rapide
* navigations rapides
* fluiditÃ©, pas trop de lag
* pas trop de conso batterie
* pas trop de conso CPU
//
listes besoins dÃ©veloppeur
// en tant que dÃ©veloppeur, je veux
* gagner du temps (dÃ©marrer mon projet rapidement)
* avoir des conventions
* Ã©crire le moins de code possible
* Ã©crire du code propre et lisible
* ne pas trop rÃ©flÃ©chir (modÃ¨le de pensÃ©e simple, abstractions)
* isolation des impacts
* Ã©crire du code rÃ©utilisable (composants)
* ne pas rÃ©inventer la roue
* courbe d'apprentissage
* ne pas dÃ©pendre des mes outils
* pouvoir travailler avec un designer

// Donc on a identifiÃ© les problÃ¨mes qu'on veut rÃ©soudre

== *Comment* en est-on  arrivÃ© lÃ  ?

// mais pourquoi c'est aussi compliquÃ©
// on a vraiment besoin d'autant d'outils

[quote]
Pour comprendre oÃ¹ on va,   il faut savoir d'oÃ¹ on vient.

// schÃ©mas avec le triangle

[slide=todo-schema]
schÃ©ma Ã¨res du web (vide)

bon anniversaire le web

[slide=todo-schema]
schÃ©ma Ã¨res du web (old school ssr)

[slide=todo-schema]
schÃ©ma Ã¨res du web (images)

[slide=todo-schema]
schÃ©ma Ã¨res du web (forms)
// interactivitÃ©

[slide=todo-schema]
schÃ©ma Ã¨res du web (SSR + JS)
// ajout du JS
// validation de form

[slide=todo-schema]
schÃ©ma Ã¨res du web (AJAX with jQuery)

[slide=todo-schema]
schÃ©ma Ã¨res du web (SPA era, client side templating)

[slide=todo-schema]
schÃ©ma Ã¨res du web (SPA era, routing)
// anchor/hash => push state

[slide=todo-schema]
schÃ©ma Ã¨res du web (the mega bundle era with empty body)

[slide=todo-schema]
schÃ©ma Ã¨res du web (SSR + hydratation + code splitting)

== Ce que les *frameworks*  nous apportent ?

// framework => cadre de travail
// opinionated set of libs/tools
// problem is when this set of libs/tools is only compatible with itself
// de mon expÃ©rience, les projets frameworks X ou Y ne se ressemble pas quand le contexte est diffÃ©rent

// historique
//jquery
//Frameworks are also their to prevent browser quirks

[slide=text]
*Frameworks* vs. *libs* ?

[slide=todo-schema]
image::img/drawings-optimized/silos-colors.svg[]

[slide=todo-schema]
image::img/drawings-optimized/silos-rooms.svg[]

//Angular and ember are opinionated
//React is supposed to be unopinionated
//Vue is a bit in the middle

// special mention to ember

image::img/drawings-optimized/silos-not.svg[]

// mentionner les Ã©tapes qui nÃ©cessitent un outil de build
// est-ce que la source de l'outil de build est spÃ©cifique ou est-elle un peu standard ?
// mentionner des dÃ©tails sur les implÃ©mentations

// points importants Ã  aborder

[slide=needs, focus=""]
SystÃ¨me de composant (API + runtime)

[slide=needs, focus="7,9,10"]
SystÃ¨me de composant (API + runtime)
// => props, attrs, slots, methods, events, lifecycle
// exemple Angular, React, Vue

[slide=needs, focus=""]
"Templating"

[slide=needs, focus="0,6,7,8,9,11"]
"Templating"
//DX gagner du temps
//DX moins de code possible
//DX modÃ¨le de pensÃ©e simple
//DX ne pas rÃ©inventer la roue
//DX faciliter le boulot du designer
//UX chargement rapide (SSR, compilation de tmpl donc minif, tree shaking)
// => JSX, templates
// => 1 file vs several files
// => output pur JS, vs JS + CSS
// Mvc, mvvm, template + vue model, computed properties
// exemple Angular, React, Vue

[slide=needs, focus=""]
CSS authoring

[slide=needs, focus="0,9"]
CSS authoring
//DX isolation des impacts
//UX chargement rapide (SSR, compilation de tmpl donc minif, tree shaking)
// => BEM, CSS-in-JS lib, encapsulation system

[slide=needs, focus=""]
Manipulation du DOM

[slide=needs, focus="2,3,4"]
Manipulation du DOM
//UX FluiditÃ©, Pas trop de lag (async and scheduling microtask...)
// => Direct binding vs Virtual DOM (+ scheduling microtask...)
//The Virtual DOM was always a big marketing argument to sell React but why would we care.
//It's an implementation detail an clearly, if they changed their impl and are still fast, we should not care at all.

[slide=needs, focus=""]
SSR (Server Side Rendering)

[slide=needs, focus="0"]
SSR (Server Side Rendering)
//dÃ©jÃ  abordÃ© pas mal de fois

[slide=needs, focus=""]
Routing

[slide=needs, focus="0,2"]
Routing
//UX chargerment rapide
//UX fluiditÃ©
// dock ipod

[slide=needs, focus=""]
State management

[slide=needs, focus="7,8"]
State management
//DX modÃ¨le de pensÃ©e simple
//DX Ã©crire un code propre

//[slide=needs, focus="0"]
//en vrac car moins important pour notre discussion
//CLI
//Devtools
//HTTP client
//Form handling
//Module system
//Dep inj
//i18n
//tests

// https://www.npmjs.com/package/vue-axios
// https://github.com/imcvampire/vue-axios
// https://alligator.io/react/axios-react/
// https://www.npmjs.com/package/react-axios

[slide=todo-schema]
recap ?

// en terme de conception de d'organisation des composants (et de sÃ©paration des concerns etc)
// les 3 communautÃ©s ont des choses intÃ©ressantes Ã  dire

== Ce que les *standards*  nous apportent ?

[slide=todo]
prÃ©ambule exemple jquery => sizzle + ajax + API chainÃ©e sucre syntaxique

.Web Components
[slide=web-components]
_

[slide=todo-schema]
// UTILISER LE SCHEMA DE LA TV
schÃ©ma de la tÃ©lÃ© => analogie avec le Web component

.Custom Elements
[slide=web-components]
_
// custom element => modÃ¨le de composant avec lifecycle methods et "data binding" sur les attributs

[slide=todo-schema]
schÃ©ma de la tÃ©lÃ© => analogie avec le Web component
API (attr, prop, methods, events) + lifecycle methods
// une API standard entrÃ©e/sortie (attr, prop, methods, events)

[slide=todo]
exemple de code de custom element

[slide=todo]
exemples de noeuds du DOM avec des attributs

[slide=todo]
exemples de noeuds du DOM avec des propriÃ©tÃ©s non string/boolean
//* RO https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset
//* RO https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style

[slide=todo]
exemples de noeuds du DOM avec des mÃ©thodes
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/pause
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob

[slide=todo]
exemples de noeuds du DOM avec des Ã©vÃ©nements un peu custom
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/loadstart_event
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/error_event

[slide=todo-schema]
oÃ¹ Ã§a se place dans notre tableau de solutions ?

.Custom Elements
[slide=web-components, display=0]
* ğŸ¤” Pas de customized built-in elements dans Safari
* ğŸ˜ Pas de "data-binding" sur les propriÃ©tÃ©s (getter/setter ou proxy)
* ğŸ˜¡ Pas de HMR (sans bidouille)
* ğŸ“œ Scoped CustomElementRegistry
* ğŸ“œ Lazy definition
* ğŸ“œ Form associated elements

.Custom Elements
[slide=web-components, display=1]
* ğŸ¤” Pas de customized built-in elements dans Safari
* ğŸ˜ Pas de "data-binding" sur les propriÃ©tÃ©s (getter/setter ou proxy)
* ğŸ˜¡ Pas de HMR (sans bidouille)
* ğŸ“œ Scoped CustomElementRegistry
* ğŸ“œ Lazy definition
* ğŸ“œ Form associated elements

.Custom Elements
[slide=web-components, display=2]
* ğŸ¤” Pas de customized built-in elements dans Safari
* ğŸ˜ Pas de "data-binding" sur les propriÃ©tÃ©s (getter/setter ou proxy)
* ğŸ˜¡ Pas de HMR (sans bidouille)
* ğŸ“œ Scoped CustomElementRegistry
* ğŸ“œ Lazy definition
* ğŸ“œ Form associated elements

.Custom Elements
[slide=web-components, display=3]
* ğŸ¤” Pas de customized built-in elements dans Safari
* ğŸ˜ Pas de "data-binding" sur les propriÃ©tÃ©s (getter/setter ou proxy)
* ğŸ˜¡ Pas de HMR (sans bidouille)
* ğŸ“œ Scoped CustomElementRegistry
* ğŸ“œ Lazy definition
* ğŸ“œ Form associated elements

.Custom Elements
[slide=web-components, display=4]
* ğŸ¤” Pas de customized built-in elements dans Safari
* ğŸ˜ Pas de "data-binding" sur les propriÃ©tÃ©s (getter/setter ou proxy)
* ğŸ˜¡ Pas de HMR (sans bidouille)
* ğŸ“œ Scoped CustomElementRegistry
* ğŸ“œ Lazy definition
* ğŸ“œ Form associated elements

.Custom Elements
[slide=web-components, display=5]
* ğŸ¤” Pas de customized built-in elements dans Safari
* ğŸ˜ Pas de "data-binding" sur les propriÃ©tÃ©s (getter/setter ou proxy)
* ğŸ˜¡ Pas de HMR (sans bidouille)
* ğŸ“œ Scoped CustomElementRegistry
* ğŸ“œ Lazy definition
* ğŸ“œ Form associated elements

.Custom Elements
[slide=web-components, display=6]
* ğŸ¤” Pas de customized built-in elements dans Safari
* ğŸ˜ Pas de "data-binding" sur les propriÃ©tÃ©s (getter/setter ou proxy)
* ğŸ˜¡ Pas de HMR (sans bidouille)
* ğŸ“œ Scoped CustomElementRegistry
* ğŸ“œ Lazy definition
* ğŸ“œ Form associated elements

.Shadow DOM
[slide=web-components]
_
//shadow DOM => isolation du CSS

[slide=todo-schema]
schÃ©ma de la tÃ©lÃ© => analogie avec le Web component
Ajouter Ã  l'API les custom prop, les slots et les ::part
// la suite de l'API standard entrÃ©e/sortie (custom prop, ::part)
// systÃ¨me de slots :+1
// transperce le shadow root avec des custom props
// transperce le shadow root avec des ::part (et ::theme)

[slide=todo]
exemples de noeuds du DOM avec des ::part ou des custom prop

[slide=todo-schema]
oÃ¹ Ã§a se place dans notre tableau de solutions ?

.Shadow DOM
[slide=web-components, display=0]
* ğŸ˜¡ Pas de SSR (sans bidouille)
* ğŸ“œ DÃ©corative shadow DOM, custom elements
* ğŸ“œ Custom pseudo class
* ğŸ“œ CSS modules

.Shadow DOM
[slide=web-components, display=1]
* ğŸ˜¡ Pas de SSR (sans bidouille)
* ğŸ“œ DÃ©corative shadow DOM, custom elements
* ğŸ“œ Custom pseudo class
* ğŸ“œ CSS modules

.Shadow DOM
[slide=web-components, display=2]
* ğŸ˜¡ Pas de SSR (sans bidouille)
* ğŸ“œ DÃ©corative shadow DOM, custom elements
* ğŸ“œ Custom pseudo class
* ğŸ“œ CSS modules

.Shadow DOM
[slide=web-components, display=3]
* ğŸ˜¡ Pas de SSR (sans bidouille)
* ğŸ“œ DÃ©corative shadow DOM, custom elements
* ğŸ“œ Custom pseudo class
* ğŸ“œ CSS modules

.Shadow DOM
[slide=web-components, display=4]
* ğŸ˜¡ Pas de SSR (sans bidouille)
* ğŸ“œ DÃ©corative shadow DOM, custom elements
* ğŸ“œ Custom pseudo class
* ğŸ“œ CSS modules

.`<template>`
[slide=web-components]
_
// <template>, une maniÃ¨re "efficace" de cloner du DOM

[slide=todo-schema]
oÃ¹ Ã§a se place dans notre tableau de solutions ?

.`<template>`
[slide=web-components, display=0]
* ğŸ˜¡ Pas d'interpolation ni de "data-binding"
* ğŸ“œ Template instanciation (limitÃ©e Ã  de simples valeurs)
* ğŸ“œ HTML modules

.`<template>`
[slide=web-components, display=1]
* ğŸ˜¡ Pas d'interpolation ni de "data-binding"
* ğŸ“œ Template instanciation (limitÃ©e Ã  de simples valeurs)
* ğŸ“œ HTML modules

.`<template>`
[slide=web-components, display=2]
* ğŸ˜¡ Pas d'interpolation ni de "data-binding"
* ğŸ“œ Template instanciation (limitÃ©e Ã  de simples valeurs)
* ğŸ“œ HTML modules

.`<template>`
[slide=web-components, display=3]
* ğŸ˜¡ Pas d'interpolation ni de "data-binding"
* ğŸ“œ Template instanciation (limitÃ©e Ã  de simples valeurs)
* ğŸ“œ HTML modules

image::img/screenshots/web-components-best-practices.jpg[url=https://developers.google.com/web/fundamentals/web-components/best-practices]

//comment surveiller la suite

image::img/screenshots/github-web-components.jpg[url=https://github.com/w3c/webcomponents]

image::img/screenshots/twitter-intenttoship.jpg[url=https://twitter.com/intenttoship]

image::img/screenshots/twitter-WebPlatformNews.jpg[url=https://twitter.com/WebPlatformNews]

image::img/screenshots/github-tc39.jpg[url=https://github.com/tc39/proposals]

// des resources pour surveiller les specs et les implems dans les browsers
// TC39

//Est-ce que votre outil est prÃªt demain Ã  adopter un standard et jetter son implem pour vous faire profiter du support natif ?

== *SÃ©parons* nos  prÃ©occupations

//== Le dÃ©couplage chez *Clever Cloud*

// SOLID

[slide=text]
Notre contexte  chez *Clever Cloud*
// une webapp qui a un peu vieilli (jquery, baconjs, routeur maison)
// donnÃ©e qui vient d'appels REST et/ou de SSE
// on va pas tout jeter pour tout rÃ©Ã©crire
// on va introduire des nouvelles technos feature aprÃ¨s feature
// le fait que notre code n'Ã©tait pas enfermÃ© dans un framework nous facilite cette migration
// Les commentaires, c'est pour tes collÃ¨gues, mais c'est surtout pr toi dans 6 mois un an. Les composants Web c'est pareil. C'est pour que des tiers puissent les utiliser dans d'autres contextes et pour que toi tu puisses changer ta stack dans 6 mois.
// third party integration

[quote]
Code should be disposable,   it's far easier to do when   things are decoupled.

[slide=text]
//SÃ©paration des *prÃ©occupations*   #â‰ #   SÃ©paration des *fichiers*
SÃ©paration des *prÃ©occupations*   #!==#   SÃ©paration des *fichiers*
//SÃ©paration des *prÃ©occupations*  *!==* SÃ©paration des *fichiers*

[slide=todo-screenshot]
storybook driven development
//YOU NEED A DESIGN SYSTEM

[slide=todo-schema]
design (papier) en partant du top => bottom

[slide=todo-schema]
implem bottom => top
// memento
// tu ne sais pas qu'il y a un router
// tu ne sais pas qu'il y a un state manager
// tu ne sais pas d'oÃ¹ vient la donnÃ©e

[slide=todo]
composition pour ajouter des layers
// layer data aware
// layer auth aware
// elements qui font des appels REST

[slide=todo]
remonter l'accÃ¨s Ã  la donnÃ©e le plus haut possible

[slide=todo]
rÃ©duire la surface de trucs qui sont globaux
//* Gestion des donnÃ©es (appels REST)
//* Gestion de l'Ã©tat
//* Global progress indicator
//* Global messages (errors, info...)
//* title
//* favicon
//* keyboard shortcuts
//* Global modal boxes

[slide=todo]
exemple des vars d'env et comment s'isolation au bon niveau, nous permet de passer du mode simple au mode expert

//The more experienced a developer is, the less they are willing to be constraint by a framework. They tend to look for tools that help them and get out of the way.
// https://hueniverse.com/http-frameworks-must-die-717a37b6b164

// i18n
// packaging
// Tests: do it like a  screen reader user wood do it
// Tests: no a great fan of snapshots

== Ce que le *futur*  nous rÃ©serve...

[slide=text]
*MÃ©fiez vous* de ceux qui  prÃ©disent le futur *!*

//See WC as the bytecode of the component isolation concept. It can be a compile to target
//People don't have to worry on the sugar

image::img/screenshots/article-frameworks-without-the-framework.jpg[url=https://svelte.technology/blog/frameworks-without-the-framework]

image::img/screenshots/article-compilers-are-the-new-frameworks.jpg[url=https://tomdale.net/2017/09/compilers-are-the-new-frameworks/]

//image::img/screenshots/tweet-future-web-assembly.jpg[url=https://twitter.com/getify/status/1111004737263075329]

//* le i18n (inlinÃ©)
//Discuter des webcomponent comme base pour l'authoring ou comme target de compilation

//[slide=todo-screenshot]
//Web Assembly

[slide=todo-schÃ©ma]
// framework runtime => compilers
schÃ©ma browser avec le code qui passe du runtime au build
// bon ou mauvais ?
// l'idÃ©al serait que l'input du compiler fonctionne sans build step et que l'output soit optimisÃ© aux petits oignons, comme ce qu'on fait quand on minifie
schÃ©ma browser avec le code qui passe du runtime et vers des implem du browser

//Convaincre les gens que :
//Le passÃ© se rÃ©pÃ¨te
//Les outils vont et viennent
//La constante, c'est le modÃ¨le des Ã©lÃ©ments du DOM (sorte de HDMI du Web)
//Tout comme on a appris Ã  apprendre mais on garde certaines bases fondamentales, ils faut capitaliser sur les bases fondamentales (le web et ses standards) et adopter des facilitants par dessus avec une courbe d'apprentissage
//Ne pas hÃ©siter Ã  questionner les standards ou les frameworks Ã  la mode
//Qu'est-ce qui est important ? L'UX, la DX, les perfs ?
//On est trop dÃ©pendant de nos outils
//On est pas tjs assez exigent avec nos outils
//Il faut plus de compilation (html, css, js) et donc une Ã©tape intermÃ©diaire
//Ã‡a facilite le SSR, le HMR, plus rÃ©silient aux vieux browsers
//Compiler le i18n

[slide=blank]
Fondu vers le noir

[.old]
== ...Epilogue

image::img/drawings-optimized/talking-legos.svg[]

.Alors ?
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

// Alors, comment Ã§a s'est passÃ© cette thÃ©rapie de groupe
// Je sais pas trop, j'ai pas forcÃ©ment eu le temps de rentrer dans chaque dÃ©tails du coup,
// j'ai plutÃ´t essayÃ© de partager mes grilles de lecture pour que chacun les adapte Ã  son contexte

.ProblÃ¨me nÂ°1
[slide=problem]
Trouver la solution   avant de constater le problÃ¨me
// J'ai essayÃ© d'adresser le problÃ¨me numÃ©ro 1 en remettant en lumiÃ¨re les besoins et les problÃ¨mes Ã  rÃ©gler quand on dÃ©veloppe une web app
// J'ai aussi essayÃ© de dÃ©construire les diffÃ©rentes fonctionnalitÃ©s des 3 Ã©cosystÃ¨me du moment pour qu'on puisse avoir un regard plus critique et une vision horizontale plutÃ´t qu'une vision verticale

.ProblÃ¨me nÂ°2
[slide=problem]
S'enfermer dans son propre Ã©cosystÃ¨me
// Ã‡a adresse Ã©galement le problÃ¨me numÃ©ro 2 car en comprenant mieux ces parties, on a moins peur des les remplacer par des implems plus simples ou mieux adaptÃ©s ou des nouveaux standard
// Et vous leur avez parlÃ© des TV magnÃ©toscopes

.ProblÃ¨me nÂ°3
[slide=problem]
Ã‰crire du code fortement couplÃ©   qui subit mal des effets du temps
// Oui, le problÃ¨me numÃ©ro 3, enfin, j'ai essayÃ© Ã§a reste un principe, il y a tjs des exceptions
// En tout cas, Ã§a va un peu mieux, je vous remercie beaucoup docteur
// et je tiens Ã©galement Ã  remercie tous les membres du groupes qui m'ont Ã©coutÃ©
// merci bcp !

//In the end, frameworks are just tools. Let's all be smart persons and use them for the great things they bring us without worshiping them blindly and getting alienated...

// Revenir sur les problÃ¨mes et les solutions qu'on y a apportÃ©
//Ne vous enfermez pas dans un framework/Ã©cosystÃ¨me !
//Analysez les briques qui composent ce framework/Ã©cosystÃ¨me, leur rÃ´le et les avantages/inconvÃ©nients qu'il apporte
//IntÃ©ressez vous aux standards pour savoir comment ils impacteront demain vos choix d'aujourd'hui
//DÃ©coupler, isoler, sÃ©parer pour mieux maitriser (perf, sÃ©cu) s'adapter au futur
//IntÃ©ressez vous Ã  ce qui se fait dans tous ces Ã©cosystÃ¨mes (en particulier si vous Ãªtes partisan du NIH et que vous avez votre propre framework)

.merci  beaucoup !
[slide=poster]
Outro

//[slide=question]
//Questions ?
